{"ast":null,"code":"import _regeneratorRuntime from\"/Users/brantleymorris/Documents/BC_Classwork/book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/brantleymorris/Documents/BC_Classwork/book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/brantleymorris/Documents/BC_Classwork/book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import API from\"../../utils/API\";import{Container,Row,Col}from\"../Grid\";import{List,ListItem}from\"../List\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookCard=function BookCard(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var getBooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.getBooks();case 2:response=_context.sent;console.log(response.data);setBooks(response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getBooks(){return _ref.apply(this,arguments);};}();var deleteBook=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var removed;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.deleteBook(id);case 2:removed=_context2.sent;console.log(removed);getBooks();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteBook(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){getBooks();},[]);return books?books.map(function(result){return/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[result.image?/*#__PURE__*/_jsx(Col,{size:\"md-3\",children:/*#__PURE__*/_jsx(\"img\",{src:result.image})}):/*#__PURE__*/_jsx(Col,{size:\"md-3\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No image found.\"})}),/*#__PURE__*/_jsx(Col,{size:\"md-9\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[result.title,\" by \",result.author]})}),result.description?/*#__PURE__*/_jsx(Row,{children:result.description.substring(0,250)/*only load 250 characters*/}):/*#__PURE__*/_jsx(Row,{children:\"No description available.\"}),result.link?/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"a\",{href:result.link,target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",children:\"View\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){deleteBook(result._id);},children:\"Remove\"})]}):/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"p\",{children:\"No link found.\"})})]})})]})})},result._id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No books have been saved.\"});};export default BookCard;","map":{"version":3,"sources":["/Users/brantleymorris/Documents/BC_Classwork/book_search/client/src/components/BookCard/index.js"],"names":["React","useState","useEffect","API","Container","Row","Col","List","ListItem","BookCard","undefined","books","setBooks","getBooks","response","console","log","data","deleteBook","id","removed","map","result","image","title","author","description","substring","link","_id"],"mappings":"+hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,SAApC,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,SAA/B,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,eAEOR,QAAQ,CAACS,SAAD,CAFf,wCAEZC,KAFY,eAELC,QAFK,eAInB,GAAMC,CAAAA,QAAQ,0FAAG,sKACUV,CAAAA,GAAG,CAACU,QAAJ,EADV,QACPC,QADO,eAEbC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACAL,QAAQ,CAACE,QAAQ,CAACG,IAAV,CAAR,CAHa,sDAAH,kBAARJ,CAAAA,QAAQ,0CAAd,CAMA,GAAMK,CAAAA,UAAU,2FAAG,kBAAOC,EAAP,yJACOhB,CAAAA,GAAG,CAACe,UAAJ,CAAeC,EAAf,CADP,QACTC,OADS,gBAEfL,OAAO,CAACC,GAAR,CAAYI,OAAZ,EACAP,QAAQ,GAHO,wDAAH,kBAAVK,CAAAA,UAAU,6CAAhB,CAMAhB,SAAS,CAAC,UAAM,CACZW,QAAQ,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,MACIF,CAAAA,KAAK,CACDA,KAAK,CAACU,GAAN,CAAU,SAAAC,MAAM,qBACZ,KAAC,QAAD,wBACI,KAAC,SAAD,wBACI,MAAC,GAAD,YACMA,MAAM,CAACC,KAAP,cACE,KAAC,GAAD,EAAK,IAAI,CAAC,MAAV,uBACI,YAAK,GAAG,CAAED,MAAM,CAACC,KAAjB,EADJ,EADF,cAIE,KAAC,GAAD,EAAK,IAAI,CAAC,MAAV,uBACI,sCADJ,EALR,cAUI,KAAC,GAAD,EAAK,IAAI,CAAC,MAAV,uBACI,MAAC,SAAD,yBACI,KAAC,GAAD,wBACI,0BACKD,MAAM,CAACE,KADZ,QACuBF,MAAM,CAACG,MAD9B,GADJ,EADJ,CAMKH,MAAM,CAACI,WAAP,cACG,KAAC,GAAD,WACKJ,MAAM,CAACI,WAAP,CAAmBC,SAAnB,CAA6B,CAA7B,CAA+B,GAA/B,CAAoC,4BADzC,EADH,cAKG,KAAC,GAAD,wCAXR,CAeKL,MAAM,CAACM,IAAP,cACG,MAAC,GAAD,yBACI,UAAG,IAAI,CAAEN,MAAM,CAACM,IAAhB,CAAsB,MAAM,CAAC,QAA7B,CAAsC,GAAG,CAAC,qBAA1C,uBACI,eAAQ,SAAS,CAAC,mBAAlB,kBADJ,EADJ,cAMI,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,kBAAM,CAACV,UAAU,CAACI,MAAM,CAACO,GAAR,CAAV,CAAuB,CAA3E,oBANJ,GADH,cAWG,KAAC,GAAD,wBACI,qCADJ,EA1BR,GADJ,EAVJ,GADJ,EADJ,EAAeP,MAAM,CAACO,GAAtB,CADY,EAAhB,CADC,cAoDD,iDArDR,CAwDH,CA5ED,CA8EA,cAAepB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport API from \"../../utils/API\";\nimport { Container, Row, Col } from \"../Grid\";\nimport { List, ListItem } from \"../List\";\n\nconst BookCard = () => {\n\n    const [books, setBooks] = useState(undefined);\n\n    const getBooks = async () => {\n        const response = await API.getBooks();\n        console.log(response.data);\n        setBooks(response.data);\n    };\n\n    const deleteBook = async (id) => {\n        const removed = await API.deleteBook(id);\n        console.log(removed);\n        getBooks();\n    };\n\n    useEffect(() => {\n        getBooks();\n    }, []);\n\n    return (\n        books ? (\n            books.map(result =>\n                <ListItem key={result._id}>\n                    <Container>\n                        <Row>\n                            { result.image ? (\n                                <Col size=\"md-3\">\n                                    <img src={result.image} />\n                                </Col> ) : (\n                                <Col size=\"md-3\">\n                                    <p>No image found.</p>\n                                </Col>\n                            )\n                            }\n                            <Col size=\"md-9\">\n                                <Container>\n                                    <Row>\n                                        <strong>\n                                            {result.title} by {result.author}\n                                        </strong>\n                                    </Row>\n                                    {result.description ? (\n                                        <Row>\n                                            {result.description.substring(0,250) /*only load 250 characters*/} \n                                        </Row>\n                                        ) : (\n                                        <Row>\n                                            No description available.    \n                                        </Row>\n                                    )}\n                                    {result.link ? (\n                                        <Row>\n                                            <a href={result.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                                                <button className=\"btn btn-secondary\">\n                                                    View\n                                                </button>\n                                            </a>\n                                            <button className=\"btn btn-primary\" onClick={() => {deleteBook(result._id)}}>\n                                                Remove\n                                            </button> \n                                        </Row>) : (\n                                        <Row>\n                                            <p>No link found.</p>\n                                        </Row>\n                                        )}\n                                </Container>\n                            </Col>\n                        </Row>\n                    </Container>\n                </ListItem>\n            )\n        ) : (\n            <h3>No books have been saved.</h3>\n        ) \n    );\n};\n\nexport default BookCard;"]},"metadata":{},"sourceType":"module"}